(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e.apply(this,arguments)}function t(e,t,r,a,s,i,o){try{var n=e[i](o),l=n.value}catch(e){return void r(e)}n.done?t(l):Promise.resolve(l).then(a,s)}function r(e){return function(){var r=this,a=arguments;return new Promise((function(s,i){var o=e.apply(r,a);function n(e){t(o,s,i,n,l,"next",e)}function l(e){t(o,s,i,n,l,"throw",e)}n(void 0)}))}}var a=["LoginScreen","VideoRecommendationPlugin","ChartbeatPlugin"],s=()=>{var e;return(null==globalThis||null==(e=globalThis.cdaaas)||null==(e=e.SETTINGS)?void 0:e.PLAYER)||{}},i=()=>{var e,t,r,a={ga4MetricId:"G-4DF8YFDHV7",user_code:"",user_code_provider:""};null!=(e=window.libAnalytics)&&e.status.dataAvailable?(a.user_code=window.libAnalytics.data.get("user_code").user_code,a.user_code_provider=window.libAnalytics.data.get("user_code_provider").user_code_provider):(a.user_code=(null==(t=window.dataLayer)||null==(t=t.find((e=>"bd_suser_code"in e)))?void 0:t.bd_suser_code)||"",a.user_code_provider=(null==(r=window.dataLayer)||null==(r=r.find((e=>"bd_suser_provider"in e)))?void 0:r.bd_suser_provider)||"");var s=document.cookie.split("; ").find((e=>e.startsWith("_ga="))).match(/(\d+\.\d+)/gm)[1];return{user_id:a.user_code,endpoint_keys:{measurementId:a.ga4MetricId,client_id:s},user_properties:{user_code_provider:a.user_code_provider,user_code:a.user_code}}},o=function(){var e=r((function*(e){var t={};return globalThis.getPlayerAssetsManager&&(yield globalThis.getPlayerAssetsManager(),t=e?yield globalThis.playerAssetsManager.getPluginsByProfile(e,!0):yield globalThis.playerAssetsManager.getPlugins(a,!0)),t}));return function(t){return e.apply(this,arguments)}}(),n=function(){var t=r((function*(t){var r,a,{videoID:n,assetsProfileId:l,autoPlay:d=!1,bsplayer:u={},customPlayerOptions:c={}}=void 0===t?{}:t,y=s().OPTIONS,g={};try{g=yield o(l)}catch(e){console.error("[bs-player::__GetBSPlayerConfigs] error on getPlugins")}var h,v,p,b={plugins:g,loginScreenOptions:{content:{description:"Faça seu login grátis e tenha acesso ilimitado às exclusividades "+((null==(r=window.cdaaas)||null==(r=r.SETTINGS)?void 0:r.SITE_NAME)||"")},tenantId:(null==(a=window.cdaaas)||null==(a=a.SETTINGS)?void 0:a.SITE_ID)||""}},_=(()=>{var e=s().ASYNC_OPTIONS,t={},r=!1;return e&&Object.keys(e).forEach((a=>{e[a]&&(t[a]=e[a],r=!0)})),r?t:null})();return _&&(u.asyncIsDone=!0),e({videosIDs:n,width:"100%",height:"100%",persistConfig:!1,autoPlay:d},y,c,b,{events:{onCanPlay:()=>{u.canPlayResolve()},onError:e=>{u.onErrorResolve(e),console.error(e)}}},{ga:{productUA:window.gaId||(null==(h=window.cdaaas)?void 0:h.SETTINGS.PRODUCT_UA)||"",extras:{dimension98:(null==(v=window.dataLayer)||null==(v=v.find((e=>"bd_suser_provider"in e)))?void 0:v.bd_suser_provider)||"",dimension99:(null==(p=window.dataLayer)||null==(p=p.find((e=>"bd_suser_code"in e)))?void 0:p.bd_suser_code)||""}},ga4:i()},_)}));return function(e){return t.apply(this,arguments)}}();class l extends HTMLElement{constructor(){super(),this.canPlay=new Promise((e=>{this.canPlayResolve=e})),this.onError=new Promise((e=>{this.onErrorResolve=e})),this.version="1.9.1"}connectedCallback(){this.isConnected&&this.parentElement&&(this.lazy&&"complete"!==document.readyState?this.setLazyAttach():this.__attachPlayerToContainer())}setLazyAttach(){window.addEventListener("load",this.onLoaded.bind(this))}onLoaded(){window.removeEventListener("load",this.onLoaded),this.__attachPlayerToContainer()}getOptionsByAttributes(){for(var{length:e}=this.attributes,t={},r="data-opt-",a=0;a<e;a++){var{name:s,value:i}=this.attributes[a];if(s.startsWith(r)){var o=s.split(r)[1].toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase())),n=""===i||i;o&&(t[o]=n)}}return t}__attachPlayerToContainer(){var t=this;return r((function*(){if(!globalThis.WM){var r=!1;if(globalThis.getPlayerAssetsManager)try{yield globalThis.getPlayerAssetsManager(),yield globalThis.playerAssetsManager.getAsset(globalThis.playerAssetsManager.config.WM)}catch(e){console.error("[bs-player::__attachPlayerToContainer] error on getPlayerAssetsManager",e),r=!0}else r=!0;if(globalThis.globalWebdeps&&r)try{yield globalThis.globalWebdeps("player")}catch(e){console.error('[bs-player::__attachPlayerToContainer] error on globalWebdeps("player")',e)}}try{yield globalThis.WM.playerAvailable;var a=t.getOptionsByAttributes();t.playerConfigs=yield n({videoID:t.videoid,assetsProfileId:t.assetsProfileId,autoPlay:t.autoplay,bsplayer:t,customPlayerOptions:a}),t.WMPlayer=new globalThis.WM.Player(t.playerConfigs),t.asyncIsDone||function(t,r,a){void 0===r&&(r={}),void 0===a&&(a=()=>{});var i=s();i.getAsyncData&&i.getAsyncData().then((s=>{a(),t.configure(e({},r,{adCustomData:s.adCustomData}))}))}(t.WMPlayer,t.playerConfigs,(()=>{t.asyncIsDone=!0})),t.WMPlayer.attachTo(t),t.isReady=!0,t.onReady&&t.onReady()}catch(e){console.error(e)}}))()}version(){return this.version}get videoid(){return this.getAttribute("videoid")}set videoid(e){this.setAttribute("videoid",e)}get assetsProfileId(){return this.getAttribute("data-assets-profile")}set assetsProfileId(e){this.setAttribute("data-assets-profile",e)}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){e?this.setAttribute("autoplay",""):this.removeAttribute("autoplay")}get lazy(){return this.hasAttribute("lazy")}set lazy(e){e?this.setAttribute("lazy",""):this.removeAttribute("lazy")}seek(e){this.WMPlayer.seek(e)}}customElements.define("bs-player",l)})();